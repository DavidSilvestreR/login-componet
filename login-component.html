<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-button/paper-button.html">

<dom-module id="login-component">
    <template>
        <style>
            :host {
                display: block;
            }
            h2{
                text-align: center
            }
            .button-container{
                text-align: center;
            }
            .blue{
                background: #37a0ce;
                color: white;
                font-size: 500;
            }

        </style>
        <div class="login" hidden$="{{!toggle}}">
            <h2>Iniciar sesión</h2>
            <p>¿No tienes cuenta? Da clic
                <paper-button on-tap="toggleContainer">aquí</paper-button>
                <paper-input label="{{language.form.userName}}" value="{{username}}"></paper-input>
                <paper-input label="{{language.form.password}}" type="password" value="{{password}}"></paper-input>
                <div class="button-container">
                    <paper-button class="blue" on-tap="login">{{language.form.login}}</paper-button>
                </div>

        </div>
        <div class="signin" hidden$="{{toggle}}">
            <h2>Iniciar sesión</h2>
            <p>Ya tienes cuenta Inicia sesión
                <paper-button on-tap="toggleContainer">aquí</paper-button>
                <paper-input label="{{language.form.userName}}" value="{{username}}"></paper-input>
                <paper-input label="{{language.form.name}}" value="{{firstName}}"></paper-input>
                <paper-input label="{{language.form.lastName}}" value="{{lastName}}"></paper-input>
                <paper-input label="{{language.form.age}}" value="{{age}}"></paper-input>
                <paper-input label="{{language.form.email}}" type="email" value="{{email}}"></paper-input>
                <paper-input label="{{language.form.password}}" type="password" value="{{password}}"></paper-input>
                <paper-input label="{{language.form.confirmPassword}}" type="password" value="{{passwordConfirm}}"></paper-input>
                <div class="button-container">
                    <paper-button class="blue" on-tap="signin">{{language.form.register}}</paper-button>
                </div>

        </div>
    </template>

    <script>
        /**
         * `login-component`
         * this is the first elemetn create whit polymer
         *
         * @customElement
         * @polymer
         * @demo demo/index.html
         */
        class LoginComponent extends Polymer.Element {
            static get is() {
                return 'login-component';
            }

            static get properties() {
                return {
                    username: {
                        type: String,
                        value: ''
                    },
                    password: {
                        type: String,
                        value: ''
                    },
                    passwordConfirm: {
                        type: String,
                        value: ''
                    },
                    email: {
                        type: String,
                        value: ''
                    },
                    toggle: {
                        type: Boolean,
                        value: true
                    },
                    firstName: {
                        type: String,
                        value: ''
                    },
                    lastName: {
                        type: String,
                        value: ''
                    },
                    age: {
                        type: String,
                        value: ''
                    },
                    image: {
                        type: String,
                        value: 'http://1.bp.blogspot.com/-AlMy6MLjjKc/VYxF-aM_QzI/AAAAAAAAAZc/2tM50UEcD8k/s1600/myAvatar.png'
                    },
                    status: {
                        type: String,
                        value: 'on'
                    },
                    language: {
                        type: Object,
                        value: {}
                    }

                };
            }


            //this is an event, which is executed by clicking the "Iniciar sesión" button
            login() {
                this.dispatchEvent(new CustomEvent('login-user', {
                    bubbles: false,
                    composed: false,
                    detail: {
                        username: this.username,
                        password: this.password
                    }
                }));
            }

            //this is an event, which is executed by clicking the "Registrar usuario" button
            signin() {
                this.dispatchEvent(new CustomEvent('register-user', {
                    bubbles: false,
                    composed: false,
                    detail: {
                        username: this.username,
                        password: this.password,
                        firstName: this.firstName,
                        lastName: this.lastName,
                        age: this.age,
                        email: this.email,
                        image: this.image,
                        status: this.status
                    }
                }));
            }

            toggleContainer() {
                this.toggle = !this.toggle;
            }
        }

        window.customElements.define(LoginComponent.is, LoginComponent);
    </script>
</dom-module>